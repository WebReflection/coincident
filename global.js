var e="3efc827e-cc7a-454c-aa63-cf3c664f3a12",t=e=>({value:new Promise((t=>{let n=new Worker("data:application/javascript,"+encodeURIComponent("onmessage=({data:b})=>(Atomics.wait(b,0),postMessage(0))"));n.onmessage=t,n.postMessage(e)}))})
/*! (c) Andrea Giammarchi - ISC */;const{Int32Array:n,Map:r,SharedArrayBuffer:s,Uint16Array:a}=globalThis,{BYTES_PER_ELEMENT:o}=n,{BYTES_PER_ELEMENT:c}=a,{isArray:i}=Array,{notify:l,wait:f,waitAsync:p}=Atomics,{fromCharCode:u}=String,g=(e,n)=>e?(p||t)(n,0):(f(n,0),{value:{then:e=>e()}}),y=new WeakSet,w=new WeakMap;let h=0;const d=(t,{parse:f,stringify:p}=JSON)=>{if(!w.has(t)){const d=(n,...r)=>t.postMessage({[e]:r},{transfer:n});w.set(t,new Proxy(new r,{get:(e,r)=>"then"===r?null:(...e)=>{const i=h++;let l=new n(new s(o)),p=[];y.has(e.at(-1)||p)&&y.delete(p=e.pop()),d(p,i,l,r,e);const w=t instanceof Worker;return g(w,l).value.then((()=>{const e=l[0];if(!e)return;const t=c*e;return l=new n(new s(t+t%o)),d([],i,l),g(w,l).value.then((()=>f(u(...new a(l.buffer).slice(0,e)))))}))},set(n,s,o){if(!n.size){const s=new r;t.addEventListener("message",(async t=>{const r=t.data?.[e];if(i(r)){t.stopImmediatePropagation();const[e,o,...c]=r;if(c.length){const[t,r]=c;if(!n.has(t))throw new Error(`Unsupported action: ${t}`);{const a=p(await n.get(t)(...r));a&&(s.set(e,a),o[0]=a.length)}}else{const t=s.get(e);s.delete(e);for(let e=new a(o.buffer),n=0;n<t.length;n++)e[n]=t.charCodeAt(n)}l(o,0)}}))}return!!n.set(s,o)}}))}return w.get(t)};d.transfer=(...e)=>(y.add(e),e);const m="object",b="function",v="number",E="string",P="undefined",M="symbol",{defineProperty:k,getOwnPropertyDescriptor:S,getPrototypeOf:x,isExtensible:A,ownKeys:R,preventExtensions:W,set:O,setPrototypeOf:T}=Reflect,C=(e,t)=>{const{get:n,set:r,value:s}=e;return n&&(e.get=t(n)),r&&(e.set=t(r)),s&&(e.value=t(s)),e},U=(e,t)=>[e,t],_=e=>t=>{const n=typeof t;switch(n){case m:if(null==t)return U("null",t);case b:return e(n,t);case"boolean":case v:case E:case P:case"bigint":return U(n,t);case M:if(z.has(t))return U(n,z.get(t))}throw new Error(`Unable to handle this ${n} type`)},z=new Map(R(Symbol).filter((e=>typeof Symbol[e]===M)).map((e=>[Symbol[e],e]))),B=e=>{for(const[t,n]of z)if(n===e)return t},I="apply",L="construct",N="defineProperty",j="deleteProperty",D="get",F="getOwnPropertyDescriptor",K="getPrototypeOf",Y="has",$="isExtensible",G="ownKeys",J="preventExtensions",q="set",H="setPrototypeOf",Q="delete";let V=0;const X=new Map,Z=new Map,ee=_(((e,t)=>{if(!X.has(t)){let e;for(;Z.has(e=V++););X.set(t,e),Z.set(e,t)}return U(e,X.get(t))}));var te=(e,t,n)=>{const{[n]:r}=e,s=new FinalizationRegistry((e=>{r(Q,U(E,e))})),a=([e,t])=>{switch(e){case m:return null==t?globalThis:typeof t===v?Z.get(t):t;case b:if(typeof t===E){if(!Z.has(t)){const e=function(...e){return r(I,U(b,t),ee(this),e.map(ee))},n=new WeakRef(e);Z.set(t,n),s.register(e,t,n)}return Z.get(t).deref()}return Z.get(t);case M:return B(t)}return t},o={[I]:(e,t,n)=>ee(e.apply(t,n)),[L]:(e,t)=>ee(new e(...t)),[N]:(e,t,n)=>ee(k(e,t,n)),[j]:(e,t)=>ee(delete e[t]),[K]:e=>ee(x(e)),[D]:(e,t)=>ee(e[t]),[F]:(e,t)=>{const n=S(e,t);return n?U(m,C(n,ee)):U(P,n)},[Y]:(e,t)=>ee(t in e),[$]:e=>ee(A(e)),[G]:e=>U(m,R(e).map(ee)),[J]:e=>ee(W(e)),[q]:(e,t,n)=>ee(O(e,t,n)),[H]:(e,t)=>ee(T(e,t)),[Q](e){X.delete(Z.get(e)),Z.delete(e)}};return e[t]=(e,t,...n)=>{switch(e){case I:n[0]=a(n[0]),n[1]=n[1].map(a);break;case L:n[0]=n[0].map(a);break;case N:{const[e,t]=n;n[0]=a(e);const{get:r,set:s,value:o}=t;r&&(t.get=a(r)),s&&(t.set=a(s)),o&&(t.value=a(o));break}default:n=n.map(a)}return o[e](a(t),...n)},e};const ne=e=>typeof e===b?e():e,re=_(((e,t)=>{if(se in t)return ne(t[se]);if(e===b){if(!ce.has(t)){let e;for(;ce.has(e=String(ae++)););oe.set(t,e),ce.set(e,t)}return U(e,oe.get(t))}return U(e,t)})),se=Symbol();let ae=0;const oe=new Map,ce=new Map;var ie=(e,t,n)=>{const{[t]:r}=e,s=new Map,a=new FinalizationRegistry((e=>{s.delete(e),r(Q,re(e))})),o=e=>{const[t,n]=e;if(!s.has(n)){const r=t===b?le.bind(e):e,o=new Proxy(r,l),c=new WeakRef(o);s.set(n,c),a.register(o,n,c)}return s.get(n).deref()},c=e=>{const[t,n]=e;switch(t){case m:return typeof n===v?o(e):n;case b:return typeof n===E?ce.get(n):o(e);case M:return B(n)}return n},i=(e,t,...n)=>c(r(e,ne(t),...n)),l={[I]:(e,t,n)=>i(I,e,re(t),n.map(re)),[L]:(e,t)=>i(L,e,t.map(re)),[N]:(e,t,n)=>{const{get:r,set:s,value:a}=n;return typeof r===b&&(n.get=re(r)),typeof s===b&&(n.set=re(s)),typeof a===b&&(n.value=re(a)),i(N,e,re(t),n)},[j]:(e,t)=>i(j,e,re(t)),[K]:e=>i(K,e),[D]:(e,t)=>t===se?e:i(D,e,re(t)),[F]:(e,t)=>{const n=i(F,e,re(t));return n&&C(n,c)},[Y]:(e,t)=>t===se||i(Y,e,re(t)),[$]:e=>i($,e),[G]:e=>i(G,e).map(c),[J]:e=>i(J,e),[q]:(e,t,n)=>i(q,e,re(t),re(n)),[H]:(e,t)=>i(H,e,re(t))};return e[n]=(e,t,n,r)=>{switch(e){case I:return c(t).apply(c(n),r.map(c));case Q:{const e=c(t);oe.delete(ce.get(e)),ce.delete(e)}}},{proxy:e,global:new Proxy([m,null],l),isGlobal:e=>typeof e===m&&!!e&&se in e}};function le(){return this}const fe=e+"M",pe=e+"T",ue=new WeakMap,ge=(e,...t)=>{const n=d(e,...t);if(!ue.has(n)){const t=e instanceof Worker?te:ie;ue.set(n,t(n,fe,pe))}return ue.get(n)};ge.transfer=d.transfer;export{ge as default};
