var e="dc78209b-186c-4f83-80e9-406becb7d9f3";var t=Promise.withResolvers.bind(Promise);const{isArray:n}=Array,{stringify:s}=JSON,[a,o]=((e=e=>e)=>{const n=new Map;let s=0;return[()=>{let a;do{a=e(s++)}while(n.has(a));const o=t();return n.set(a,o),[a,o.promise]},(e,t,s)=>{const a=n.get(e);n.delete(e),s?a?.reject(s):a?.resolve(t)}]})(),r=e=>e.stopImmediatePropagation(),i=e=>new Response(`[${e.join(",")}]`),d=e=>new Response(s(e)),{protocol:l,host:c,pathname:p}=location,h=`${l}//${c}${p}?sabayon`,m=new BroadcastChannel(e);m.onmessage=e=>o.apply(null,e.data);addEventListener("message",t=>{const{data:s}=t;n(s)&&2===s.length&&s[0]===e&&r(t)}),addEventListener("activate",e=>e.waitUntil(clients.claim())),addEventListener("fetch",e=>{const{request:t}=e;"POST"===t.method&&t.url===h&&(r(e),e.respondWith(t.json().then(([e,t])=>{const[n,s]=a();return m.postMessage([n,e,t]),s.then(i,d)},d)))}),addEventListener("install",()=>skipWaiting());
